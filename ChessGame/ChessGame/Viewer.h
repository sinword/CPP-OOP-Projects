#include <vector>
#include <string>
#include <iostream>
#include "Board.h"
using namespace std;
class Viewer {
public:
	static int fontW, fontH;//字體像素長寬
	bool drawing;
	Viewer();

	vector<vector<int>> screen;//輸出畫面
	vector<vector<int>> table;//棋盤
	vector<vector<int>> owner;//棋子的擁有者
	vector<Position> pMove;//可動位置
	int pieceTab[7][7][13] = { {{0,0,0,0,0,0,0,0,0,0,0,0,0},	//Pawn
								{0,0,0,0,0,0,0,0,0,0,0,0,0},
								{0,0,0,0,0,1,1,1,0,0,0,0,0},
								{0,0,0,0,1,1,1,1,1,0,0,0,0},
								{0,0,0,0,0,1,1,1,0,0,0,0,0},
								{0,0,0,1,1,1,1,1,1,1,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0,0,0}},
								
							   {{0,0,0,0,0,0,0,0,0,0,0,0,0},	//Rook
								{0,0,0,0,1,0,1,0,1,0,0,0,0},
								{0,0,0,0,1,1,1,1,1,0,0,0,0},
								{0,0,0,0,0,1,1,1,0,0,0,0,0},
								{0,0,0,0,1,1,1,1,1,0,0,0,0},
								{0,0,0,1,1,1,1,1,1,1,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0,0,0}},

							   {{0,0,0,0,0,0,0,0,0,0,0,0,0},	//Knight
								{0,0,0,0,1,1,1,1,1,0,0,0,0},
								{0,0,0,1,1,0,1,1,1,1,0,0,0},
								{0,0,0,0,0,1,1,1,1,1,0,0,0},
								{0,0,0,0,1,1,1,1,1,0,0,0,0},
								{0,0,0,1,1,1,1,1,1,1,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0,0,0}},

							   {{0,0,0,0,0,0,0,0,0,0,0,0,0},	//Bishop
								{0,0,0,0,0,0,1,0,0,0,0,0,0},
								{0,0,0,0,0,1,1,1,0,0,0,0,0},
								{0,0,0,0,1,1,1,1,0,1,0,0,0},
								{0,0,0,0,0,1,1,1,1,0,0,0,0},
								{0,0,0,1,1,1,1,1,1,1,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0,0,0}},

							   {{0,0,0,0,0,0,0,0,0,0,0,0,0},	//Queen
								{0,0,0,0,1,0,1,0,1,0,0,0,0},
								{0,0,0,1,0,1,1,1,0,1,0,0,0},
								{0,0,0,0,1,0,1,0,1,0,0,0,0},
								{0,0,0,0,1,1,1,1,1,0,0,0,0},
								{0,0,0,1,1,1,1,1,1,1,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0,0,0}},

							   {{0,0,0,0,0,0,0,0,0,0,0,0,0},	//King
								{0,0,0,1,0,1,0,1,0,1,0,0,0},
								{0,0,0,0,1,0,1,0,1,0,0,0,0},
								{0,0,0,0,0,1,1,1,0,0,0,0,0},
								{0,0,0,0,1,1,1,1,1,0,0,0,0},
								{0,0,0,1,1,1,1,1,1,1,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0,0,0}},

							   {{0,0,0,0,0,0,0,0,0,0,0,0,0},	//Empty
								{0,0,0,0,0,0,0,0,0,0,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0,0,0}}
							};
	void promoteMenu();
	void setTable(Board);
	void draw();
	void clrTable();
	void setPmove(vector<Position>);
	void clrPmove();
	void warn(Position,int);
	void showMessage(string,bool,int);//顯示的字 是否點擊關閉 持續時間
	void drawOpening();
	void drawAdditional();
	void drawReplayButtons();
	void drawTime(int,int);
	void Setting(int,int);
	void miniSqure(string,int,int, bool);
};
void clearS();
void SetColor(int);
void gotoyx(int, int);
void ShowConsoleCursor(bool);
